# Ekrone Desktop Windows Installer

## Introduction
This is a Inno Setup script used to build a Windows installer for Ekrone Desktop.

The installer automatically installs the Visual C++ Redistributable when they are not already installed.

As it replaces the old NSIS installer, this installer will uninstall any version of Ekrone Desktop previously installed by the NSIS installer before installing the new version.

## Building
To build the installer you will need to have Windows.
Then follow these steps:
- Install [Inno Setup](https://jrsoftware.org/isdl.php).
- Clone the [Ekrone Desktop repository](https://github.com/EkroneNetwork/ekrone-desktop) and go to the installer directory `installer\windows`.
- Build Ekrone Desktop ([instructions](https://github.com/EkroneNetwork/ekrone-desktop#windows-10)) and run windeployqt.
- Copy the files generated by windeployqt in the `build` folder.
- Start Inno Setup, load `EkroneInstaller.iss` and compile it.
- When the compilation is finished, the installer will be in the `bin` directory.

## Credits
Special thanks to DomGries who created [InnoDependencyInstaller](https://github.com/DomGries/InnoDependencyInstaller) which is the base of the Ekrone Desktop installer.